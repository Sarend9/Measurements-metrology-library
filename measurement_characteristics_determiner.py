class MeasurementCharacteristicsDeterminer:
    """
    Практическая работа 1.1.
    Определение метрологических характеристик средств измерений

    Задача:
    Проведена поверка прибора, предназначенного для измерения напряжения. Известно, что
    нижний предел шкалы прибора - X_н, верхний - X_к; класс точности прибора - К; число
    интервалов равномерной шкалы - N; отметка шкалы, на которой стоит указатель (стрелка) -
    X_х, в которой определена максимальная абсолютная погрешность Δ_max; максимальная вариация - V_max.

    Необходимо определить: пределы допускаемой абсолютной погрешности показаний (Δ_доп),
    максимальную относительную погрешность измерения (σ_доп), цену деления шкалы (ΔN),
    чувствительность прибора (S), приведенную максимальную погрешность измерения (γ_max)
    и метрологическую годность прибора.

    Метрологическая годность прибора:
        |Δ_max| <= |Δ_dop|
        |V_max| <= |V_dop|
    """
    def __init__(self, X_n=-500, X_k=500, K=1.5, N=100, X_h=250, Δ_max=15, V_max=10):
        self.X_n = X_n
        self.X_k = X_k
        self.K = K
        self.N = N
        self.X_h = X_h
        self.Δ_max = Δ_max
        self.V_max = V_max

    def calculate_parameters(self):
        # Пределы допускаемой абсолютной погрешности показаний (Δ_доп)
        X_N = self.X_k - self.X_n
        Δ_dop = self.K * (X_N) / 100

        # Максимальная относительная погрешность измерения (δ_max)
        δ_max = (self.Δ_max / self.X_h) * 100

        # Цена деления шкалы (ΔN)
        ΔN = (X_N) / self.N

        # Чувствительность прибора (S)
        S = 1 / ΔN

        # Приведенная максимальная погрешность измерения (γ_max)
        γ_max = (self.Δ_max / (X_N)) * 100

        # Предел допускаемой вариации (V_доп)
        V_dop = [0.5 * abs(Δ_dop), 1 * abs(Δ_dop)]


        # Метрологическая годность прибора
        if abs(self.Δ_max) <= abs(Δ_dop) and abs(self.V_max) <= abs(max(V_dop)):
            метрологическая_годность = "Годен"
        else:
            метрологическая_годность = "Не годен"

        # Вывод результатов
        print(f"Пределы допускаемой абсолютной погрешности показаний (±Δ_доп): ±{Δ_dop}(мВ)")
        print(f"Максимальная относительная погрешность измерения (±δ_max): ±{δ_max}")
        print(f"Цена деления шкалы (ΔN): {ΔN}(мВ)")
        print(f"Чувствительность прибора (S): {S}")
        print(f"Приведенная максимальная погрешность измерения (±γ_max): ±{γ_max}")
        print(f"Предел допускаемой вариации (V_доп): {V_dop[0]} ÷ {V_dop[1]}")

        print(f"|Δ_max| ≤ |Δ_доп| -> |{abs(self.Δ_max)}| ≤ |{abs(Δ_dop)}|?")
        print(f"|V_max| ≤ |V_доп| -> |{abs(self.V_max)}| ≤ |{abs(max(V_dop))}|?")

        print("Метрологическая годность прибора:", метрологическая_годность)

        print("\nПРИМЕЧАНИЕ: работает только с мВ!")

# Пример использования класса:
if __name__ == "__main__":
    # Исходные данные
    X_н = 0      # Нижний предел шкалы
    X_к = 500    # Верхний предел шкалы
    K = 0.5      # Класс точности прибора
    N = 100      # Число интервалов равномерной шкалы
    X_х = 400    # Отметка шкалы, на которой стоит указатель
    Δ_max = 2.5  # Максимальная абсолютная погрешность
    V_max = 3.0  # Максимальная вариация

    # Создание экземпляра класса и расчет параметров
    calculator = MeasurementCharacteristicsDeterminer(X_н, X_к, K, N, X_х, Δ_max, V_max)
    calculator.calculate_parameters()


